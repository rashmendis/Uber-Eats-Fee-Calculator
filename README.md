
<!-- This application was initially generated by AI and may require further refinement. -->

# Uber Eats Fee Calculator - Built with Gemini AI (via Firebase Studio)

This is a simple Next.js application designed to calculate Uber Eats prices, factoring in a configurable fee percentage. It allows users to calculate the final selling price needed based on a desired item price or determine the original item price by subtracting the fee from a given selling price.

## Features

*   **Calculate Selling Price (Based on Desired Price + Fee):** Enter the desired item price you want to receive *before* the fee is added, and the calculator will determine the required Selling Price using the formula `Selling Price = Desired Price / (1 - Fee Percentage)`.
*   **Calculate Item Price (Selling Price - Fee):** Enter a selling price (including the fee) and see the calculated fee and the resulting original item price after that fee is subtracted using the formula `Original Item Price = Selling Price - (Selling Price * Fee Percentage)`.
*   **Configurable Settings:**
    *   Set the fee percentage (defaults to 30%).
    *   Set the currency symbol (defaults to 'Rs.').
*   **Calculation History:** View a history of your past calculations.
*   **Client-Side Storage:** Settings and history are stored locally in your browser's `localStorage`.
*   **Responsive Design:** Adapts to different screen sizes.

## Live Preview

You can try a live preview of the application here: [Live Preview](https://9000-idx-studio-1746447866480.cluster-fdkw7vjj7bgguspe3fbbc25tra.cloudworkstations.dev)

*(Note: This link might be temporary depending on the hosting environment.)*

## Architecture

This application is built entirely on the **client-side** using Next.js (App Router) and React.

*   **Frontend Framework:** [Next.js](https://nextjs.org/) (with TypeScript)
*   **UI Components:** [shadcn/ui](https://ui.shadcn.com/) built on Radix UI and Tailwind CSS.
*   **Styling:** [Tailwind CSS](https://tailwindcss.com/)
*   **State Management:** React Hooks (`useState`, `useEffect`, `useMemo`, `useCallback`).
*   **Data Storage:** Browser `localStorage` is used to persist user settings and calculation history. **There is no backend server.**

## Getting Started

### Prerequisites

*   [Node.js](https://nodejs.org/) (version 20 or later recommended)
*   [npm](https://www.npmjs.com/) (usually comes with Node.js)

### Installation

1.  Clone the repository:
    ```bash
    git clone <repository-url>
    cd <repository-directory>
    ```
2.  Install dependencies:
    ```bash
    npm install
    ```

### Running the Development Server

To run the app in development mode:

```bash
npm run dev
```

This will start the development server, usually on `http://localhost:9002`. The app will automatically reload if you make changes to the code.

## Usage

1.  **Open the App:** Navigate to the running application in your browser.
2.  **Calculator:**
    *   **Item Price + Fee Tab:**
        *   Enter the **desired item price** (the amount you want to receive *before* the fee is added) in the input field.
        *   The calculator uses the formula `Selling Price = Desired Price / (1 - Fee Percentage)` to determine the **Required Selling Price** you need to charge. It also shows the calculated **Uber Fee** (Selling Price * Fee Percentage).
        *   *Example:* If you enter `Rs. 700.00` as the Desired Item Price (and the fee is 30%), it will calculate a required Selling Price of `Rs. 1000.00` (700 / (1 - 0.30)) and a fee of `Rs. 300.00` (1000 * 0.30).
    *   **Selling Price - Fee Tab:**
        *   Enter the **selling price (including the fee)** in the input field.
        *   The calculator determines the fee based on the selling price and the configured percentage using the formula: `Original Item Price = Selling Price - (Selling Price * Fee Percentage)`. It will then show the calculated **Uber Fee** and the **Original Item Price**.
        *   *Example:* If you enter `Rs. 1000.00` as the Selling Price (and the fee is 30%), it will calculate an Original Item Price of `Rs. 700.00` (1000 - (1000 * 0.30)) and a fee of `Rs. 300.00` (1000 * 0.30).
3.  **Settings:**
    *   Click the gear icon (⚙️) in the top-right corner to open the Settings modal.
    *   Adjust the "Uber Fee Percentage" and "Currency Symbol".
    *   Click "Save Changes". Settings are saved in `localStorage`.
4.  **History:**
    *   Expand the "View Calculation History" accordion below the calculator.
    *   Your recent calculations will be displayed in a table.
    *   Click the "Clear" button within the history section to remove all saved history entries from `localStorage`.

## LocalStorage Details

The application uses the browser's `localStorage` to store data persistently on your machine.

*   **Settings Key:** `uberFeeCalculatorSettings`
    *   **Format:** JSON string representing an object like `{"feePercentage": 0.3, "currencySymbol": "Rs."}`.
*   **History Key:** `uberFeeCalculatorHistory`
    *   **Format:** JSON string representing an array of calculation objects. Each object contains details like `id`, `timestamp`, `type` (`with-fee` or `without-fee`), `input` value (Desired Item Price for 'with-fee', Selling Price for 'without-fee'), `feePercentage` used, calculated `fee`, `result` (Selling Price for 'with-fee', Original Item Price for 'without-fee'), and `currencySymbol` used.

```json
[
  {
    "id": "unique_id_1",
    "timestamp": 1678886400000,
    "type": "with-fee",
    "input": 700, // Desired Item Price (X)
    "feePercentage": 0.30,
    "fee": 300, // Fee = Selling Price * 0.30
    "result": 1000, // Selling Price (SP = 700 / (1 - 0.30))
    "currencySymbol": "Rs."
  },
  {
    "id": "unique_id_2",
    "timestamp": 1678896400000,
    "type": "without-fee",
    "input": 1000, // Selling Price
    "feePercentage": 0.30,
    "fee": 300, // Fee = Selling Price * 0.30
    "result": 700, // Original Item Price = Selling Price - Fee
    "currencySymbol": "Rs."
  }
]
```

## Available Scripts

*   `npm run dev`: Starts the Next.js development server with Turbopack.
*   `npm run build`: Builds the application for production.
*   `npm run start`: Starts the production server (requires running `npm run build` first).
*   `npm run lint`: Runs the Next.js linter.
*   `npm run typecheck`: Checks TypeScript types.
